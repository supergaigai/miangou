/**
 * Lifecycle-B2B 1.0.0-20170426
 * Copyright © 2017 Lifecycle Co.,Ltd.
 * http://www.lifecycle.cn/
 */
angular.module("lifecycle.portal",["ui.router","ui.bootstrap","ngSanitize","ngCookies","ngMaterial","pascalprecht.translate","lifecycle.common","lifecycle.portal.module"]).config(["$urlRouterProvider","$provide","$httpProvider","$translateProvider","$translatePartialLoaderProvider","$config",function(a,b,c,d,e,f){a.when("","/").otherwise("/404"),e.addPart("common"),e.addPart("portal"),d.useLoader("$translatePartialLoader",{urlTemplate:"i18n/{part}.{lang}.json"}),d.registerAvailableLanguageKeys(["en_US","zh_CN","zh_TW"],{en:"en_US","en-US":"en_US","en-UK":"en_US","en-*":"en_US",zh:"zh_CN","zh-CN":"zh_CN","zh-SG":"zh_CN","zh-CHS":"zh_CN","zh-Hans":"zh_CN","zh-Hans-*":"zh_CN","zh-TW":"zh_TW","zh-HK":"zh_TW","zh-CHT":"zh_TW","zh-Hant":"zh_TW","zh-Hant-*":"zh_TW","zh-*":"zh_CN","*":"en_US"}).preferredLanguage(f.app.preferredLanguage).fallbackLanguage(f.app.fallbackLanguage).useSanitizeValueStrategy(null).useCookieStorage()}]).run(["$rootScope","$cookies","$config","$window",function(a,b,c,d){}]),angular.module("lifecycle.portal.module",["lifecycle.common","lifecycle.portal.component","lifecycle.portal.module","lifecycle.portal.service"]).run(["$translatePartialLoader",function(a){a.addPart("b2b-pc")}]),angular.module("lifecycle.portal.component.common",["lifecycle.common"]),angular.module("lifecycle.portal.component",["lifecycle.portal.component.common"]),angular.module("lifecycle.portal.module.common",["lifecycle.common","lifecycle.portal.component","lifecycle.portal.service"]),angular.module("lifecycle.portal.module",["lifecycle.portal.module.common","lifecycle.portal.module.timeLine"]),angular.module("lifecycle.portal.module.timeLine",["lifecycle.common","lifecycle.portal.component","lifecycle.portal.service"]),angular.module("lifecycle.portal.service",["lifecycle.common"]),angular.module("lifecycle.portal.component").config(["$provide",function(a){a.decorator("$msg",["$delegate","$q","$mdToast","$mdDialog","$translate",function(a,b,c,d,e){function f(a){return c.show(c.simple().textContent(a).position("top center"))}function g(a,b){return d.show(d.alert().textContent(a).ok(b||e.instant("dialog.ok")))}function h(a,b,c){return d.show(d.confirm().textContent(a).ok(b||e.instant("dialog.yes")).cancel(c||e.instant("dialog.no")))}function i(a,b,c,f,g){return d.show(d.prompt().textContent(a).initialValue(b).placeholder(c).ok(f||e.instant("dialog.done")).cancel(g||e.instant("dialog.cancel")))}return{toast:f,alert:g,confirm:h,prompt:i}}])}]),angular.module("lifecycle.portal.module.common").config(["$stateProvider","$config",function(a,b){a.state("portal",{url:"/",views:{main:{templateUrl:"tpl//portal.html",controller:"portalCtrl"}}})}]).controller("portalCtrl",["$msg","$window","$scope","$state","$stateParams","$valiUtils","$config","$sys","$auth","portalManager",function(a,b,c,d,e,f,g,h,i,j){c.isNull=f.isNull,c.portalAddres=g.portal.address,c.menuObj={},c.carous=[],c.dynamicScreen={width:0,height:0};var k=function(){var a=j.getUserInfo();a.then(function(a){c.whoami=a},function(a){})};k(),c.showItems=!1,c.ShowSItems=function(){c.showItems=!0},c.hideSItems=function(){c.showItems=!1},c.portlLogin=function(){d.go("login")},c.portalLogOut=function(){var a=j.logout();a.then(function(a){d.go("portal",{},{reload:!0})})},c.portalRegister=function(){d.go("normalReg")};var l=function(){var a=j.getPortalCarousal();a.then(function(a){c.carous=a})};l(),c.getMenus=function(){var a=j.getMenus();a.then(function(a){c.menuObj=a,m(a)})},c.getMenus();var m=function(a){if(!f.isNull(a.menus)){if(f.isNull(a.inaccessible_items))return void(c.dynamicScreen.height="400px");var b=0,d=0;if("hidden"==a.inaccessible_items)for(var e=0;e<a.menus.length;e++)if(1==a.menus[e].is_accessble&&(b+=1),!f.isNull(a.menus[e].items)&&0<a.menus[e].items.length){for(var g=0,h=0;h<a.menus[e].items.length;h++)1==a.menus[e].items[h].is_accessble&&(g+=1);d<g&&(d=g)}if("disable"==a.inaccessible_items)for(var e=0;e<a.menus.length;e++)b+=1,!f.isNull(a.menus[e].items)&&d<a.menus[e].items.length&&(d=a.menus[e].items.length);0!=b&&(c.dynamicScreen.width=140*b+"px"),0!=d&&(c.dynamicScreen.height=34*d+"px")}};c.goUrl=function(a,c,d){1==c&&(void 0==d||""==d||null==d?b.location.href=a:window.open(a,d))},c.gotoPortalMsg=function(){window.open("../nea/core/portal/ssv/index.jsp","_blank")}}]),angular.module("lifecycle.portal.module.common").config(["$stateProvider","$config",function(a,b){a.state("login",{url:"/login",views:{main:{templateUrl:"tpl//portalLogin.html",controller:"portalLoginCtrl"}}})}]).controller("portalLoginCtrl",["$msg","$scope","$state","$stateParams","$valiUtils","$config","$sys","$auth","portalManager",function(a,b,c,d,e,f,g,h,i){b.portalAddres=f.portal.address,b.isNull=e.isNull,b.showChange=!1;var j=function(a){return"undefined"==typeof a||null==a||""==a};b.hasError=!1,b.username="",b.password="",b.language=null,b.languages=null,b.loadlanguages=function(){if(j(b.languages)){var a=g.getSupportedLanguages();a.then(function(a){b.languages=b.languages||a;for(var c=0;c<b.languages.length;c++)if(0==b.languages[c].code.indexOf(b.syslang)){b.language=b.languages[c];break}})}},b.changeLang=function(a){g.changeLanguage(b.language.code)},b.$on("$stateChangeSuccess",function(a,c,d,e,f){b.from=e,b.fromParams=f}),b.isWillLogin=function(a){13==a.keyCode&&b.login()},b.login=function(){var d=i.login(b.username,b.password);d.then(function(a){c.go("portal",{},{location:"replace"})},function(b){a.toast(b.message)})}}]),angular.module("lifecycle.portal.module.common").config(["$stateProvider","$config",function(a,b){a.state("joinReg",{url:"/joinReg",views:{main:{templateUrl:"tpl//portalReg.join.html",controller:"portalReg.joinCtrl"}}})}]).controller("portalReg.joinCtrl",["$sce","$q","$msg","$scope","$state","$stateParams","$config","$sys","$auth","$valiUtils","$translate","portalManager","$attach","$interval",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){d.cansubmit=!0,d.isNull=j.isNull,d.cache={},d.event={},d.params={truename:"",sex:"",age:"",telphone:"",email:"",c_country_id:null,c_province_id:null,c_city_id:null,c_district_id:null,address:"",addressStr:"",othercontact:"",fax:"",post:"",experience:"",industry:"",entretype:"",budget:"",mngtype:"",hasshop:k.instant("Reg_join.radio_Y_val"),area:"",shoptimeStr:new Date,shoptime:"",underway:"",remark:""},d.cache.checkTel=!1,d.cache.codetranslate=k.instant("Reg_join.getTelcode"),d.cache.cansend=!0,d.event.getCodeByPhone=function(){if(j.isNull(d.params.telphone)){var a=k.instant("Reg_join.main.telphone_required");return void c.toast(a)}var b=/^[1][0-9][0-9]{9}$/;return b.test(d.params.telphone)?void l.getTelCode(d.params.telphone).then(function(a){d.cache.time=60;var b=null;b=n(function(){d.cache.time=d.cache.time-1,d.cache.codetranslate=d.cache.time+"s后重试",1==d.cache.cansend&&(d.cache.cansend=!1),0==d.cache.time&&(d.cache.codetranslate=k.instant("Reg_join.getTelcode"),d.cache.cansend=!0,n.cancel(b))},1e3)},function(a){c.toast(a.message)}):(a=k.instant("Reg_join.main.telphone_error"),void c.toast(a))},d.event.checkCode=function(){l.checkTelCode(d.params.telphone,d.cache.code).then(function(){d.cache.checkTel=!0},function(a){c.toast(a.message)})},initalAreas=function(){var a={region:"country"},b=l.getRegionAddrList(a);b.then(function(a){if(d.cache.countries=a.country_s,a.country_s.length>0)for(var b=0;b<a.country_s.length;b++){var c=a.country_s[b];if(1==c.id){d.params.c_country_id=c,d.event.loadProvinces();break}}})},d.event.loadCountries=function(){var a={region:"country"},b=l.getRegionAddrList(a);b.then(function(a){d.cache.countries=a.country_s,d.cache.provinces=[],d.params.c_province_id=null,d.cache.cities=[],d.params.c_city_id=null,d.cache.districts=[],d.params.c_district_id=null})},d.event.loadProvinces=function(){if(!j.isNull(d.params.c_country_id)&&!j.isNull(d.params.c_country_id.id)){var a={region:"province",fkid:d.params.c_country_id.id},b=l.getRegionAddrList(a);b.then(function(a){d.cache.provinces=a.province_s,d.cache.cities=[],d.params.c_city_id=null,d.cache.districts=[],d.params.c_district_id=null})}},d.event.loadCites=function(){if(!j.isNull(d.params.c_province_id)&&!j.isNull(d.params.c_province_id.id)){var a={region:"city",fkid:d.params.c_province_id.id},b=l.getRegionAddrList(a);b.then(function(a){d.cache.cities=a.city_s,d.params.c_city_id=null,d.cache.districts=[],d.params.c_district_id=null})}},d.event.loadDistricts=function(){if(!j.isNull(d.params.c_city_id)&&!j.isNull(d.params.c_city_id.id)){var a={region:"district",fkid:d.params.c_city_id.id},b=l.getRegionAddrList(a);b.then(function(a){d.cache.districts=a.district_s,d.params.c_district_id=null})}},initalAreas(),l.getSelectArrayParams().then(function(a){d.cache.budget=a.budget,d.params.budget=a.budget[0].value,d.cache.entretype=a.entretype,d.params.entretype=a.entretype[0].value,d.cache.experience=a.experience,d.params.experience=a.experience[0].value,d.cache.industry=a.industry,d.params.industry=a.industry[0].value,d.cache.mngtype=a.mngtype,d.params.mngtype=a.mngtype[0].value,d.cache.sex=a.sex,d.params.sex=a.sex[0].value,d.cache.underway=a.underway,d.params.underway=a.underway[0].value}),d.newsContent=null;var o=function(){var b="PORTAL_JOIN_NEWS",c=l.getNewsTemplate(b);c.then(function(b){d.newsContent=a.trustAsHtml(b.content)})};o(),Date.prototype.Format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},d.checkTruename=function(){return d.isNull(d.params.truename)?(d.truename_emsg=k.instant("Reg_join.main.truename_required"),!1):(d.truename_emsg="",!0)},d.checkTelphone=function(){if(d.isNull(d.params.telphone))return d.telphone_emsg=k.instant("Reg_join.main.telphone_required"),!1;var a=/^[1][0-9][0-9]{9}$/;return a.test(d.params.telphone)?(d.telphone_emsg="",!0):(d.telphone_emsg=k.instant("Reg_join.main.telphone_error"),!1)},d.isInteger=function(a){if(j.isNull(a))return d.age_emsg="年龄不能为空",!1;var b=parseInt(a,10)==a;return 1==b&&parseInt(a,10)>0?(d.age_emsg="",!0):(d.age_emsg="年龄有误",!1)},d.checkEmail=function(){if(d.isNull(d.params.email))return d.email_emsg=k.instant("Reg_join.main.email_required"),!1;var a=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return a.test(d.params.email)?(d.email_emsg="",!0):(d.email_emsg=k.instant("Reg_join.main.email_error"),!1)},d.checkshoptime=function(){return d.shoptime_emsg="",!0},d.checkform=function(){return!!d.checkTruename()&&(!!d.checkTelphone()&&(!!d.isInteger(d.params.age)&&!!d.checkEmail()))},d.joinSubmit=function(){d.params.shoptime=d.isNull(d.params.shoptimeStr)?"":d.params.shoptimeStr.Format("yyyyMMdd");var a="";return j.isNull(d.params.c_country_id)||(a+=d.params.c_country_id.name),j.isNull(d.params.c_province_id)||(a+=d.params.c_province_id.name),j.isNull(d.params.c_city_id)||(a+=d.params.c_city_id.name),j.isNull(d.params.c_district_id)||(a+=d.params.c_district_id.name),a+=d.params.addressStr,d.params.address=a,0==d.checkform()?void c.toast("请检查表单"):void(0!=d.cansubmit&&(d.cansubmit=!1,console.info(d.params),l.submitJoinRegister(d.params).then(function(){c.alert("申请单已提交，请联系管理员审核！"),e.go("portal")},function(a){c.toast("出现异常，申请失败！"),d.cansubmit=!0})))},d.login=function(a){var b=l.login(d.params.main.email,"123456");b.then(function(b){var c=m("p_cu_apply","attach",a),d=document.getElementById("Reg_join_shopmsg_img").files;if(d){for(var f=0;f<d.length;f++)d[f]&&c.upload(d[f]).then(function(a){});e.go("portal",{},{location:"replace"})}},function(a){c.toast(a.message)})}}]),angular.module("lifecycle.portal.module.common").config(["$stateProvider","$config",function(a,b){a.state("normalReg",{url:"/normalReg",views:{main:{templateUrl:"tpl//portalReg.normal.html",controller:"portalReg.normalCtrl"}}})}]).controller("portalReg.normalCtrl",["$q","$msg","$scope","$state","$stateParams","$config","$sys","$auth","$valiUtils","$translate","portalManager",function(a,b,c,d,e,f,g,h,i,j,k){c.isNull=i.isNull,c.currentNavItem="page1",c.cansubmit=!0,c.params={mail:"",truename:"",password:"",job:"",telphone:"",remark:""},c.checkName=function(){if(c.isNull(c.params.mail))return c.usr_errormsg=j.instant("Reg_normal.usr_required"),!1;var a=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;if(!a.test(c.params.mail))return c.usr_errormsg=j.instant("Reg_normal.usr_error"),!1;var b={name:c.params.mail},d=k.chekName(b);return d.then(function(a){return!a.exist||(c.usr_errormsg=j.instant("Reg_normal.usr_exist"),!1)},function(){return!1}),c.usr_errormsg="",!0},c.checkNameServer=function(){var b=a.defer();if(c.isNull(c.params.mail))return c.usr_errormsg=j.instant("Reg_normal.usr_required"),b.resolve(!1),b.promise;var d=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;if(!d.test(c.params.mail))return c.usr_errormsg=j.instant("Reg_normal.usr_error"),b.resolve(!1),b.promise;var e={name:c.params.mail},f=k.chekName(e);return f.then(function(a){return a.exist?(c.usr_errormsg=j.instant("Reg_normal.usr_exist"),b.resolve(!1),b.promise):(b.resolve(!0),b.promise)},function(){return b.resolve(!1),b.promise}),c.usr_errormsg="",b.resolve(!0),b.promise},c.checkTruename=function(){return c.isNull(c.params.truename)?(c.truename_errormsg=j.instant("Reg_normal.truename_required"),!1):(c.truename_errormsg="",!0)},c.checkPassword=function(){return c.isNull(c.params.password)?(c.password_errormsg=j.instant("Reg_normal.password_required"),!1):(c.password_errormsg="",!0)},c.checkTelphone=function(){return c.isNull(c.params.telphone)?(c.telphone_errormsg=j.instant("Reg_normal.telphone_required"),!1):(c.telphone_errormsg="",!0)},c.checkRemark=function(){return c.isNull(c.params.remark)?(c.remark_errormsg=j.instant("Reg_normal.remark_required"),!1):(c.remark_errormsg="",!0)};var l=function(){if(!c.checkTruename())return!1;if(!c.checkPassword())return!1;if(!c.checkTelphone())return!1;if(c.checkRemark())return!0};c.normalSubmit=function(){if(0!=c.cansubmit){c.cansubmit=!1;var a=c.checkNameServer();a.then(function(a){if(1!=a){var d=j.instant("Reg_normal.info_no_complete");return c.cansubmit=!0,void b.toast(d)}var e=l();if(1!=e){var d=j.instant("Reg_normal.info_no_complete");return c.cansubmit=!0,void b.toast(d)}var f=k.normalRegister(c.params);f.then(function(a){if(1==a.success)c.login();else{var d=j.instant("Reg_normal.register_failed");c.cansubmit=!0,b.toast(d)}},function(a){var d=j.instant("Reg_normal.register_failed");b.toast(d),c.cansubmit=!0})})}},c.login=function(){var a=k.login(c.params.mail,c.params.password);a.then(function(a){d.go("portal",{},{location:"replace"})},function(a){b.toast(a.message)})}}]),angular.module("lifecycle.portal.module.common").config(["$stateProvider","$config",function(a,b){a.state("portalReg",{url:"/portalReg",views:{main:{templateUrl:"tpl//portalReg.html",controller:"portalRegCtrl"}}})}]).controller("portalRegCtrl",["$msg","$scope","$state","$stateParams","$config","$sys","$auth",function(a,b,c,d,e,f,g){b.currentNavItem="normal",c.go("portalReg.normal"),b.goto=function(a){""!=a&&null!=a&&c.go(a)}}]),angular.module("lifecycle.portal.module.timeLine").config(["$stateProvider","$config",function(a,b){a.state("timeline",{url:"/timeline",views:{main:{templateUrl:"tpl//timeLine.html",controller:"timeLineCtrl"}}})}]).controller("timeLineCtrl",["$config","$scope","$msg","$window","portalManager","$interval",function(a,b,c,d,e,f){function g(){if(angular.isArray(b.vm.ad)&&0!=b.vm.ad.length){var a=screen.availWidth;a>1240?b.vm.itemPdRight=Math.round((a-1240)/2):b.vm.itemPdRight=0,b.vm.itemWidth=620+b.vm.itemPdRight,b.vm.boxPdLeft=470+b.vm.itemPdRight,b.vm.allWidth=b.vm.boxPdLeft+b.vm.itemWidth*b.vm.ad.length+150}}function h(a,c){if(c!=b.vm.checkIdx){b.vm.checkIdx=c;var d=b.vm.itemWidth*c;angular.element(".tl_slide").css("-webkit-transform","translate3d("+-d+"px,0,0)"),angular.element(".tl_slide").css("-moz-transform","translate3d("+-d+"px,0,0)"),angular.element(".tl_slide").css("transform","translate3d("+-d+"px,0,0)"),angular.element(".tl_content").css("opacity","0"),angular.element(".tl_showtime").css("opacity","0"),angular.element(".tl_showtime_"+c).css("opacity","1"),angular.element(".tl_content_"+c).css("opacity","1")}}b.vm={itemPdRight:0,itemWidth:0,boxPdLeft:0,allWidth:0,checkIdx:0,scrollTo:h};var i=4e3;e.getTimelineInfo().then(function(a){a&&angular.isArray(a)&&0!=a.length&&(b.vm.ad=a,g())}),f(function(){h({},b.vm.checkIdx+1)},i),d.onresize=function(){g()}}]),angular.module("lifecycle.portal.module").controller("rootCtrl",["$state","$scope","$rootScope","$config","$window","$msg",function(a,b,c,d,e,f){c.title=d.app.title,c.lang=d.app.lang,c.template=d.app.template,c.$on("$stateChangeSuccess",function(a,b,c,d){b&&d&&b.name===d.name||(e.document.getElementById("root-content").scrollTop=0)})}]),angular.module("lifecycle.portal.service").factory("portalManager",["$miscCmd","$q","$auth","$valiUtils","$config","$runSQL",function(a,b,c,d,e,f){function g(){var c=b.defer();return d.isNull(w)||d.isEmpty(w)?a.execute("portal.user.whoami").then(function(a){w=a,c.resolve(w)},function(){c.reject("request failed")}):c.resolve(w),c.promise}function h(){var c=b.defer(),d=g();return d.then(function(b){var d={};d.id=b.id,a.execute("portal.getmenus",d).then(function(a){c.resolve(a)})},function(b){a.execute("portal.getmenus").then(function(a){c.resolve(a)})}),c.promise}function i(){var c=b.defer();return a.execute("portal.getportalCarousal").then(function(a){c.resolve(a)}),c.promise}function j(c){var e=b.defer();return d.isNull(c)?e.resolve({exist:!0}):a.execute("portal.checkname",c).then(function(a){e.resolve(a)}),e.promise}function k(c){var e=b.defer();return d.isNull(c)?e.resolve({exist:!0}):a.execute("portal.checktelphone",c).then(function(a){e.resolve(a)}),e.promise}function l(c){var d=b.defer();return a.execute("portal.normalRegister",c).then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}function m(c){c["nds.control.ejb.UserTransaction"]="N";var d=b.defer();return a.execute("portal.joinRegister",c).then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}function n(b,c){return b&&""!==b?c&&""!==c?a.execute("portal.login",{username:b,password:c}):(deferred.reject({source:"Client",code:-3,message:$translate.instant("portalMgr.password-required")}),deferred.promise):(deferred.reject({source:"Client",code:-2,message:$translate.instant("portalMgr.username-required")}),deferred.promise)}function o(){return sessionStorage.clear(),w=null,a.execute("portal.logout")}function p(c){var d=b.defer(),e={id:c};return a.execute("portal.joinReg.getNewsTemplate",e).then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}function q(){var c=b.defer();return a.execute("portal.timeline").then(function(a){c.resolve(a)},function(a){c.reject(a)}),c.promise}function r(c){var d=b.defer(),e="portal.country.search",f={};return void 0!=c.orderby&&null!=c.orderby||(f.orderby={table:"dual",column:"1",asc:!0,join:"1=1"}),"province"==c.region?(e="portal.province.search",f.c_country_id=c.fkid):"city"==c.region?(e="portal.city.search",f.c_province_id=c.fkid):"district"==c.region&&(e="portal.district.search",f.c_city_id=c.fkid),f.pagesize="10000",a.execute(e,f).then(function(a){d.resolve(a)}),d.promise}function s(){var c=b.defer();return a.execute("portal.getSelectParamsArray").then(function(a){c.resolve(a)}),c.promise}function t(c){var d={telphone:c},e=b.defer();return a.execute("portal.getTelCode",d).then(function(a){e.resolve(a)},function(a){e.reject(a)}),e.promise}function u(c,d){var e={telphone:c,code:d},f=b.defer();return a.execute("portal.checkTelCode",e).then(function(a){f.resolve(a)},function(a){f.reject(a)}),f.promise}function v(c){var d=b.defer();return a.execute("portal.submitJoinRegister",c).then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}var w=null;return{whoami:w,getUserInfo:g,getMenus:h,getPortalCarousal:i,chekName:j,chekTelPhone:k,normalRegister:l,joinRegister:m,login:n,logout:o,getNewsTemplate:p,getTimelineInfo:q,getRegionAddrList:r,getSelectArrayParams:s,getTelCode:t,checkTelCode:u,submitJoinRegister:v}}]);